SMRKinematicJoint *currentJoint,*prevJoint;
prevJoint=NULL;

for(int i=0;i<4;i++)
{
  ...
}